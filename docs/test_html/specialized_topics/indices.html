<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>portfolyo :: Indices</title>
  

  <link rel="icon" type="image/png" sizes="32x32" href="../_static/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../_static/img/favicon-16x16.png">
  <link rel="index" title="Index" href="../genindex.html"/>

  <link rel="stylesheet" href="../_static/css/insegel.css"/>
  <link rel="stylesheet" href="../_static/css/custom.css"/>

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
      <script type="text/javascript" src="../https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
  

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script> 
</head>

<body>
  <div id="insegel-container">
    <header>
      <div id="logo-container">
          
          <h1>portfolyo</h1>
          
      </div>
      <div id="project-container">
        
        <h1>Documentation</h1>
        
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content" role="main">
          
  <section id="indices">
<h1>Indices<a class="headerlink" href="#indices" title="Link to this heading">¶</a></h1>
<p>Because not all energy markets define delivery periods in the same way, we need to be somewhat flexible with handling timeseries.</p>
<nav class="contents local" id="page-contents">
<p class="topic-title">Page contents:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#calender-and-non-calendar-days" id="id1">Calender and non-calendar days</a></p></li>
<li><p><a class="reference internal" href="#assumptions-regarding-offset" id="id2">Assumptions regarding offset</a></p></li>
</ul>
</nav>
<section id="calender-and-non-calendar-days">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Calender and non-calendar days</a><a class="headerlink" href="#calender-and-non-calendar-days" title="Link to this heading">¶</a></h2>
<section id="calendar-days">
<h3>Calendar days<a class="headerlink" href="#calendar-days" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>A “day” is normally assumed to be the time period from midnight to midnight. In most cases, this is 24h; in timezones that observe daylight-saving-time, each year also has one 23h-day and one 25h-day.</p></li>
<li><p>Equivalently, a “month”, “quarter” or “year” are the time periods from midnight on the first day of the month/quarter/year until midnight on the first day of the following month/quarter/year.</p></li>
<li><p>Upsampling daily-or-longer timeseries to hours or quarterhours results in a timeseries of which the first (quarter)hour starts at midnight, and the final (quarter)hour ends at midnight of the following day.</p></li>
</ul>
<p>We say that the “offset” of this market is 0 hours (past midnight).</p>
</section>
<section id="non-calendar-days">
<h3>Non-calendar days<a class="headerlink" href="#non-calendar-days" title="Link to this heading">¶</a></h3>
<p>In some markets, however, the start of a day does not line up with the calendar.</p>
<ul class="simple">
<li><p>In the German Gas market, for example, a “day” is defined as the time period from 06:00 until 06:00. The day called ‘21 April’ is actually the time period from 06:00 on 21 April, until 06:00 on 22 April.</p></li>
<li><p>Months, quarters and years are then also starting at 06:00 on the first calendar day of the month/quarter/year, and ending at 06:00 on the first calendar day of the following month/quarter/year.</p></li>
<li><p>Upsampling to hours or quarterhours gives a timeseries of which the first element starts at 06:00, and the final one ends at 06:00.</p></li>
</ul>
<p>In this case, the “offset” of this market is 6 hours (past midnight).</p>
</section>
</section>
<section id="assumptions-regarding-offset">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Assumptions regarding offset</a><a class="headerlink" href="#assumptions-regarding-offset" title="Link to this heading">¶</a></h2>
<p>When handling timeseries with daily-or-longer indices, the offset is clear from the timestamps. For example, the following daily index has a 6-hour offset:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DatetimeIndex([&#39;2024-01-05 06:00:00&#39;, &#39;2024-01-06 06:00:00&#39;,
               &#39;2024-01-07 06:00:00&#39;, &#39;2024-01-08 06:00:00&#39;],
              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)
</pre></div>
</div>
<p>This remains true during a DST-transition:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DatetimeIndex([&#39;2024-03-29 06:00:00+01:00&#39;, &#39;2024-03-30 06:00:00+01:00&#39;,
               &#39;2024-03-31 06:00:00+02:00&#39;, &#39;2024-04-01 06:00:00+02:00&#39;],
              dtype=&#39;datetime64[ns, Europe/Berlin]&#39;, freq=&#39;D&#39;)
</pre></div>
</div>
<p>However, when handling timeseries with shorter-than-daily indices, the offset cannot be deduced. <em>In this case, it is assumed that the index starts with the first (quarter)hour in the day.</em> Considering the following index:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DatetimeIndex([&#39;2024-01-05 06:00:00&#39;, &#39;2024-01-05 07:00:00&#39;,
               &#39;2024-01-05 08:00:00&#39;, &#39;2024-01-05 09:00:00&#39;,
               &#39;2024-01-05 10:00:00&#39;, &#39;2024-01-05 11:00:00&#39;,
               &#39;2024-01-05 12:00:00&#39;, &#39;2024-01-05 13:00:00&#39;,
               &#39;2024-01-05 14:00:00&#39;, &#39;2024-01-05 15:00:00&#39;,
               &#39;2024-01-05 16:00:00&#39;, &#39;2024-01-05 17:00:00&#39;,
               &#39;2024-01-05 18:00:00&#39;, &#39;2024-01-05 19:00:00&#39;,
               &#39;2024-01-05 20:00:00&#39;, &#39;2024-01-05 21:00:00&#39;,
               &#39;2024-01-05 22:00:00&#39;, &#39;2024-01-05 23:00:00&#39;,
               &#39;2024-01-06 00:00:00&#39;, &#39;2024-01-06 01:00:00&#39;,
               &#39;2024-01-06 02:00:00&#39;, &#39;2024-01-06 03:00:00&#39;,
               &#39;2024-01-06 04:00:00&#39;, &#39;2024-01-06 05:00:00&#39;,
               &#39;2024-01-06 06:00:00&#39;, &#39;2024-01-06 07:00:00&#39;,
               &#39;2024-01-06 08:00:00&#39;, &#39;2024-01-06 09:00:00&#39;,
               &#39;2024-01-06 10:00:00&#39;, &#39;2024-01-06 11:00:00&#39;,
               &#39;2024-01-06 12:00:00&#39;, &#39;2024-01-06 13:00:00&#39;,
               &#39;2024-01-06 14:00:00&#39;, &#39;2024-01-06 15:00:00&#39;,
               &#39;2024-01-06 16:00:00&#39;, &#39;2024-01-06 17:00:00&#39;,
               &#39;2024-01-06 18:00:00&#39;, &#39;2024-01-06 19:00:00&#39;,
               &#39;2024-01-06 20:00:00&#39;, &#39;2024-01-06 21:00:00&#39;],
              dtype=&#39;datetime64[ns]&#39;, freq=&#39;H&#39;)
</pre></div>
</div>
<p>It contains 40 hourly values, i.e., it does not contain an integer number of days. We cannot infer, how a day is defined, and in these situations it is therefore assumed, that it is the offset of the first timestamp - ‘06:00’ in this case.</p>
<section id="dst-and-daily-or-longer-indices">
<h3>DST and daily-or-longer indices<a class="headerlink" href="#dst-and-daily-or-longer-indices" title="Link to this heading">¶</a></h3>
<p>If the market under consideration does not operate on shorter-than-daily frequencies, you might be tempted to disregard the offset and use <em>calendar</em> days/months/quarters/years. E.g., you’d use the “21 April 00:00” timestamp to indicate the time period “21 April 06:00 - 22 April 06:00”.</p>
<p>Unfortunately, that causes problems during an DST-transition. If the start of DST is on 30 March, and the clock misses the 02:00-03:00 hour, then it is the 29 March 06:00 - 30 March 06:00 delivery period that is only 23h long. Using calendar days, however, the missing hour would be in the 30 March calendar day, which causes errors (e.g. when calculating energies from powers etc.)</p>
<p>The offset of a market is therefore also relevant when working with daily indices.</p>
</section>
</section>
</section>


        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <p class="caption" role="heading"><span class="caption-text">Core functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core/objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/pfline.html">PfLine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/pfstate.html">PfState</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/interoperability.html">Interoperability</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/part1.html">Tutorial part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/part2.html">Tutorial part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/part3.html">Tutorial part 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/part4.html">Tutorial part 4</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Specialized topics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dataprep.html">Preprocessing input data</a></li>
<li class="toctree-l1"><a class="reference internal" href="timezones.html">Timezones</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimensions.html">Dimensions and Units</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="resampling.html">Resampling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Full reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../full_reference.html">Full reference</a></li>
</ul>

  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/specialized_topics/indices.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            

            
        </ul>

        
            <div id="copyright">
                &copy; Ruud Wijtvliet
            </div>
        

        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/Autophagy/insegel">Insegel</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>